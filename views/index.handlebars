<!-- MOSAIC OF IMAGES -->
<div class="columns main">
    <div id="mosaic" class="column">
        {{#each posts}}
            <div class="mosaic-image" data-id="{{this.id}}">
                <div class="text-overlay">
                    <p class="mosaic-text has-text-weight-semibold is-family-sans-serif" data-id="{{this.id}}">{{this.post_title}}</p>
                </div>
                <img class="mosaic-inner lazy" src="{{this.post_image}}" data-id="{{this.id}}" onerror="this.src='/images/error.jpg'" loading="lazy" style="cursor:pointer;">
            </div>
        {{/each}}
    </div>
</div>

{{!-- CLICK IMAGE TO GO TO PAGE --}}
<script id="GO_TO_PAGE">
$(".mosaic-image").on("click", function toPage(){
    let id = $(this).attr("data-id");
    //console.log(id);
    window.location.href = "/post/" + id;
});
</script>

{{!-- IMAGE SIZE RANDOMIZER --}}
<script id="IMAGE_SIZE_RANDOMIZER">
$(".mosaic-image").each(function randomClass(){
    let random = Math.floor(Math.random() * 6);
    //console.log(random);
    if (random <= 1){
        $(this).addClass("mosaic-small");
    }
    else if (random <= 4){
        $(this).addClass("mosaic-med");
    }
    else {
        $(this).addClass("mosaic-lrg");
    }
});
</script>